<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Love Letter for You</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Lato:wght@300;400;700&display=swap');
        body, html {
            scroll-behavior: smooth;
            font-family: 'Playfair Display', serif;
            overflow-x: hidden;
        }
        .bg-gradient-love {
            background: linear-gradient(135deg, #ff6b6b 0%, #ff9a9e 100%);
        }
        .shadow-romantic {
            box-shadow: 0 15px 35px rgba(255,106,107,0.2);
        }
        .rose-decoration {
            position: absolute;
            opacity: 0.4;
            z-index: 1;
            filter: drop-shadow(2px 2px 4px rgba(255,106,107,0.3));
            transition: transform 0.3s ease, opacity 0.3s ease;
        }
        .rose-decoration:hover {
            opacity: 0.7;
            transform: scale(1.05);
            cursor: pointer;
        }
        .scroll-disabled {
            overflow: hidden;
        }
        .clickme-text {
            animation: pulse 1.5s infinite;
        }
        .home-button {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.7);
            border-radius: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        .home-button:hover {
            background: rgba(255, 255, 255, 0.9);
            transform: scale(1.05);
        }
        @keyframes pulse {
            0% { opacity: 0.7; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.05); }
            100% { opacity: 0.7; transform: scale(1); }
        }
        
        /* Updated Photo Collage Styles */
        .photo-collage {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); /* Responsive columns */
            gap: 10px;
            padding: 20px;
            margin: 30px auto;
            max-width: 1200px;
            background-color: #f9f9f9;
            overflow: visible; /* Ensure images are not clipped */
            justify-content: center;
        }


        .photo-item {
            position: relative; /* Change from absolute */
            background-color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            padding: 5px;
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%; /* Adjust to fit within grid */
            height: auto;
        }

        .photo-item img {
            width: 100%;
            height: auto;
            object-fit: cover;
            border-radius: 2px;
        }


        .photo-item:hover {
            transform: scale(1.05) rotate(var(--rotation));
            z-index: 100;
            box-shadow: 0 10px 20px rgba(0,0,0,0.3);
        }


        .photo-item:hover img {
            filter: brightness(1.1);
        }

        /* Improved Modal Styling */
        .photo-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .photo-modal.active {
            opacity: 1;
            pointer-events: auto;
        }

        .photo-modal img {
            max-width: 90%;
            max-height: 85%;
            object-fit: contain;
            box-shadow: 0 0 30px rgba(255,255,255,0.1);
            border-radius: 8px;
        }

        .photo-modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            color: white;
            font-size: 24px;
            cursor: pointer;
            background: #e11d48; /* Rose-600 */
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            z-index: 1010;
            transition: all 0.2s ease;
        }

        .photo-modal-close:hover {
            transform: scale(1.1);
            background: #be123c; /* Rose-700 */
        }

        .photo-navigation {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 1100px;
            padding: 0 20px;
            position: absolute;
            bottom: 40px;
            z-index: 1010;
        }

        .photo-nav-btn {
            background: #e11d48; /* Rose-600 */
            color: white;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }

        .photo-nav-btn:hover {
            background: #be123c; /* Rose-700 */
            transform: scale(1.1);
        }

        /* Mobile-specific adjustments */
        @media (max-width: 768px) {
            .photo-collage {
                grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
                gap: 8px;
            }
            
            .photo-item {
                transform: scale(0.85) rotate(var(--rotation));
            }
            
            .photo-navigation {
                bottom: 20px;
            }
            
            .photo-nav-btn {
                width: 40px;
                height: 40px;
                font-size: 16px;
            }
        }

        @media (max-width: 768px) {
        .letter-container {
            padding: 15px;
        }
        
        .letter-container .text-xl {
            font-size: 1rem;
        }
        
        .letter-container h2 {
            font-size: 1.5rem;
        }
        }
        @media (max-width: 768px) {
        .rose-decoration {
            width: 80px !important;
            height: 80px !important;
            opacity: 0.25; /* Make roses more transparent on mobile */
        }
        
        /* Adjust positions for mobile */
        .rose-decoration.top-10.left-10 {
            top: 5px;
            left: 5px;
        }
        
        .rose-decoration.top-20.right-10 {
            top: 10px;
            right: 5px;
        }
        
        .rose-decoration.bottom-20.left-20 {
            bottom: 10px;
            left: 10px;
        }
        
        .rose-decoration.bottom-10.right-10 {
            bottom: 5px;
            right: 5px;
        }
        
        .rose-decoration.top-1\/3.left-5,
        .rose-decoration.top-1\/3.right-5 {
            display: none; /* Hide some roses on mobile */
        }    
        }

        .stiam-message {
            position: fixed;
            top: 20%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 255, 255, 0.8);
            color: #ff6b6b;
            font-size: 3rem;
            padding: 1rem 2rem;
            border-radius: 5px;
            z-index: 9999;
            opacity: 0%;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        .gresit-message {
            position: fixed;
            top: 20%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(255, 255, 255, 0.8);
            color: #ff6b6b;
            font-size: 3rem;
            padding: 1rem 2rem;
            border-radius: 5px;
            z-index: 9999;
            opacity: 0%;
            pointer-events: none;
            transition: opacity 0.5s ease;
        }

        @media (prefers-reduced-motion: reduce) {
            .clickme-text {
                animation: none;
            }
            .rose-decoration:hover {
                transform: none;
            }
            body, html {
                scroll-behavior: auto;
            }
            .transition-all {
                transition: none !important;
            }
        }

        #media-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 55px;
            height: 160px;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-between;
            padding: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(5px);
            z-index: 10;
        }

        button {
            background: transparent;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: white;
            transition: transform 0.2s ease-in-out;
        }

        button:hover {
            transform: scale(1.2);
        }

        #volume-slider {
            writing-mode: vertical-lr;
            transform: rotate(180deg);
            width: 8px;
            height: 90px;
            appearance: none;
            background: white;
            border-radius: 5px;
            outline: none;
        }

        #volume-slider::-webkit-slider-thumb {
            appearance: none;
            width: 14px;
            height: 14px;
            background: #ff69b4;
            border-radius: 50%;
            cursor: pointer;
            transition: 0.2s;
        }

        #volume-slider::-webkit-slider-thumb:hover {
            background: #ff1493;
        }

        html {
            scroll-behavior: smooth;
        }
        .page {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-50 relative scroll-disabled">
    <!-- Home Button (initially hidden) -->
    <button id="homeButton" class="home-button px-4 py-2 text-rose-600 font-medium hidden" aria-label="Go back to home screen">
        Home
    </button>

    <!-- Rose Decorations -->
    <svg class="rose-decoration top-10 left-10 w-48 h-48" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" aria-label="Decorative rose">
        <g transform="translate(100,100)">
            <path d="M0,-50 
                     Q-30,-50 -40,-30 
                     Q-50,-10 -30,10 
                     Q-10,30 10,10 
                     Q30,-10 20,-30 
                     Q10,-50 0,-50" 
                  fill="#E11584" />
            <path d="M0,-30 
                     Q-20,-30 -30,-15 
                     Q-40,0 -20,15 
                     Q0,30 20,15 
                     Q40,0 30,-15 
                     Q20,-30 0,-30" 
                  fill="#C2185B" />
            <path d="M0,-10 
                     Q-10,-10 -15,-5 
                     Q-20,0 -10,5 
                     Q0,10 10,5 
                     Q20,0 15,-5 
                     Q10,-10 0,-10" 
                  fill="#AD1457" />
            <g fill="green">
                <path d="M-5,50 Q-20,30 -10,10" />
                <path d="M5,50 Q20,30 10,10" />
                <path d="M0,60 Q0,40 0,10" />
            </g>
        </g>
    </svg>

    <svg class="rose-decoration top-20 right-10 w-56 h-56" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" aria-label="Decorative rose">
        <g transform="translate(100,100) rotate(45)">
            <path d="M0,-50 
                     Q-30,-50 -40,-30 
                     Q-50,-10 -30,10 
                     Q-10,30 10,10 
                     Q30,-10 20,-30 
                     Q10,-50 0,-50" 
                  fill="#E11584" />
            <path d="M0,-30 
                     Q-20,-30 -30,-15 
                     Q-40,0 -20,15 
                     Q0,30 20,15 
                     Q40,0 30,-15 
                     Q20,-30 0,-30" 
                  fill="#C2185B" />
            <path d="M0,-10 
                     Q-10,-10 -15,-5 
                     Q-20,0 -10,5 
                     Q0,10 10,5 
                     Q20,0 15,-5 
                     Q10,-10 0,-10" 
                  fill="#AD1457" />
            <g fill="green" stroke="green" stroke-width="2">
                <path d="M-5,50 Q-20,30 -10,10" />
                <path d="M5,50 Q20,30 10,10" />
                <path d="M0,60 Q0,40 0,10" />
            </g>
        </g>
    </svg>

    <svg class="rose-decoration bottom-20 left-20 w-40 h-40" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" aria-label="Decorative rose">
        <g transform="translate(100,100) rotate(-45)">
            <path d="M0,-50 
                     Q-30,-50 -40,-30 
                     Q-50,-10 -30,10 
                     Q-10,30 10,10 
                     Q30,-10 20,-30 
                     Q10,-50 0,-50" 
                  fill="#E11584" />
            <path d="M0,-30 
                     Q-20,-30 -30,-15 
                     Q-40,0 -20,15 
                     Q0,30 20,15 
                     Q40,0 30,-15 
                     Q20,-30 0,-30" 
                  fill="#C2185B" />
            <path d="M0,-10 
                     Q-10,-10 -15,-5 
                     Q-20,0 -10,5 
                     Q0,10 10,5 
                     Q20,0 15,-5 
                     Q10,-10 0,-10" 
                  fill="#AD1457" />
            <g fill="green" stroke="green" stroke-width="2">
                <path d="M-5,50 Q-20,30 -10,10" />
                <path d="M5,50 Q20,30 10,10" />
                <path d="M0,60 Q0,40 0,10" />
            </g>
        </g>
    </svg>

    <svg class="rose-decoration bottom-10 right-10 w-48 h-48" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" aria-label="Decorative rose">
        <g transform="translate(100,100)">
            <path d="M0,-50 
                     Q-30,-50 -40,-30 
                     Q-50,-10 -30,10 
                     Q-10,30 10,10 
                     Q30,-10 20,-30 
                     Q10,-50 0,-50" 
                  fill="#E11584" />
            <path d="M0,-30 
                     Q-20,-30 -30,-15 
                     Q-40,0 -20,15 
                     Q0,30 20,15 
                     Q40,0 30,-15 
                     Q20,-30 0,-30" 
                  fill="#C2185B" />
            <path d="M0,-10 
                     Q-10,-10 -15,-5 
                     Q-20,0 -10,5 
                     Q0,10 10,5 
                     Q20,0 15,-5 
                     Q10,-10 0,-10" 
                  fill="#AD1457" />
            <g fill="green" stroke="green" stroke-width="2">
                <path d="M-5,50 Q-20,30 -10,10" />
                <path d="M5,50 Q20,30 10,10" />
                <path d="M0,60 Q0,40 0,10" />
            </g>
        </g>
    </svg>

    <!-- Additional Roses -->
    <svg class="rose-decoration top-1/3 left-5 w-32 h-32" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" aria-label="Decorative rose">
        <g transform="translate(100,100) rotate(-20)">
            <path d="M0,-50 
                     Q-30,-50 -40,-30 
                     Q-50,-10 -30,10 
                     Q-10,30 10,10 
                     Q30,-10 20,-30 
                     Q10,-50 0,-50" 
                  fill="#E11584" />
            <g fill="green" stroke="green" stroke-width="2">
                <path d="M-5,50 Q-20,30 -10,10" />
                <path d="M5,50 Q20,30 10,10" />
            </g>
        </g>
    </svg>

    <svg class="rose-decoration top-1/3 right-5 w-32 h-32" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200" aria-label="Decorative rose">
        <g transform="translate(100,100) rotate(20)">
            <path d="M0,-50 
                     Q-30,-50 -40,-30 
                     Q-50,-10 -30,10 
                     Q-10,30 10,10 
                     Q30,-10 20,-30 
                     Q10,-50 0,-50" 
                  fill="#E11584" />
            <g fill="green" stroke="green" stroke-width="2">
                <path d="M-5,50 Q-20,30 -10,10" />
                <path d="M5,50 Q20,30 10,10" />
            </g>
        </g>
    </svg>

    <!-- Introduction Section -->
    <div id="introSection" class="min-h-screen flex flex-col justify-center items-center relative bg-gradient-love">
        <div class="intro-section text-center px-4 py-20 relative z-10">
            <h1 class="text-4xl md:text-6xl text-white font-bold mb-6 drop-shadow-lg">
                Claudia
            </h1>
            <p class="text-xl text-white max-w-2xl mx-auto opacity-90 mb-20">
                on this celebratory day, accept this letter from my behalf...
            </p>
            <button id="startButton" class="clickme-text text-white text-xl animate-pulse border-none bg-transparent cursor-pointer">
                Click me
            </button>
        </div>
    </div>

    <!-- Love question popup (initially hidden) -->
    <div id="loveQuestion" class="fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-60 hidden">
        <div class="bg-white rounded-xl p-8 max-w-md mx-4 shadow-romantic">
            <h2 class="text-2xl text-rose-600 font-bold mb-6 text-center">Do you love me?</h2>
            <div class="flex justify-center space-x-4">
                <button id="yesButton" class="px-6 py-3 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors focus:outline-none focus:ring-2 focus:ring-rose-400" aria-label="Yes, I love you">Yes</button>
                <button id="yesyesButton" class="px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400" aria-label="YesYes, I love you">YesYesYes</button>
            </div>
        </div>
    </div>

    <!-- Girlfriend question popup (initially hidden) -->
    <div id="girlfriendQuestion" class="fixed inset-0 flex items-center justify-center z-50 bg-black bg-opacity-60 hidden">
        <div class="bg-white rounded-xl p-8 max-w-md mx-4 shadow-romantic">
            <h2 class="text-2xl text-rose-600 font-bold mb-6 text-center">Would you be my girlfriend?</h2>
            <div class="flex justify-center space-x-4">
                <button id="yesButton2" class="px-6 py-3 bg-rose-500 text-white rounded-lg hover:bg-rose-600 transition-colors focus:outline-none focus:ring-2 focus:ring-rose-400" aria-label="Yes">Yes</button>
                <button id="yesyesButton2" class="px-6 py-3 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors focus:outline-none focus:ring-2 focus:ring-gray-400" aria-label="YesYes">Yes of course</button>
            </div>
        </div>
    </div>    

    <!-- Envelope section -->
    <div class="min-h-screen flex flex-col justify-center items-center relative bg-gray-50 envelope-scroll-stop hidden" id="envelopeSection">
        <div class="envelope-section opacity-0 transform translate-y-10 transition-all duration-1000 ease-out">
            <div class="envelope-container relative w-80 h-52 cursor-pointer group" tabindex="0" aria-label="Click to open the envelope">
                <div class="absolute inset-0 bg-white rounded-lg shadow-romantic transform transition-all duration-500 group-hover:rotate-6 group-hover:scale-105 envelope">
                    <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-64 h-40 bg-pink-50 rounded-lg shadow-inner">
                        <div class="absolute top-0 left-0 w-full h-1/2 bg-pink-100 rounded-t-lg"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Letter section -->
    <div class="min-h-screen bg-gray-100 flex flex-col justify-center items-center p-6 letter-section hidden">
        <div class="letter-container bg-white w-full max-w-2xl rounded-lg shadow-romantic p-10 opacity-0 transform translate-y-10 transition-all duration-1000 relative">
            
            <h2 class="text-4xl text-center text-rose-600 mb-8 font-bold">Happy Women's Day, My Owl</h2>
            <div class="text-xl text-gray-700 leading-relaxed space-y-6">
                <p>
                    Dear,
                </p>
                <p>
                    You mentioned in your letter that you care about me, and through this "letter" I want to show you how much I care for you.
                    This is not as much a letter as it is an invitation to a life of love. <-
                    You upset me much when you told me I am unable to show appreciation. I hope in the future you will change your opinion.
                    I hope now we are at peace with one another and that you are content with our bond - as we had our misunderstandings. But my
                    greatest torment since I have known you has been seeing you anguished.
                </p>
                <p>
                    I am nearly mad at you-nearly, as much as one can be mad. I cannot bring toghether two ideas that you do not interpose yourself between them.
                    The distance between us is breaking my spirit, yet in your memory, I find solace... perhaps it's monomania. You are my monomania. 
                    But just know that you can come to me at anytime. It is a lovely place which lacks only you.
                    I am mastering my love for you and turning it inwards as a constituent element of myself.
                    I'd like to paint you, but there are no colors, because there are so many-in my confusion, the tangible form of my love.
                </p>
                <p>
                    Love, I believe is a decision, not a feeling. And if it was it would be a feeling easily weakend and distorted. But you are capable of it.
                    You are always ready to give your love. I'm not talking only about your love for me, which is beyond that. But you are lavish with little secondary loves, like
                    your plushes, or your appreciation of the small things in life-or that night when you loved that drunkard you met at the bar, who turned out to be me.
                    Alas, falling in love with you was the easiest thing I've done. You are utterly lovable, and you fill my soul with ardent bliss.
                </p>
                <p>
                    I loved you when I met you, I love you today, and I will love you forever.
                    To infinity and beyond, and no more ;).<br/>
                </p>
                <p class="text-right italic text-rose-600">
                    Yours,<br/>
                    Arkhan
                </p>
            </div>
            
            <div class="mt-12 text-center">
                <p class="clickme-text text-rose-600 text-xl animate-pulse cursor-pointer" id="viewGirlfriendButton">
                    Click here
                </p>
            </div>
        </div>
    </div>

    <!-- Photo Gallery Section -->
    <div id="photoGallerySection" class="min-h-screen bg-gradient-to-b from-rose-50 to-pink-100 p-4 hidden">
        <div class="max-w-6xl mx-auto bg-white rounded-lg shadow-xl p-6">
            <h2 class="text-3xl text-center text-rose-600 mb-8 font-bold font-serif">Memories</h2>
            
            <div class="photo-collage">
                <!-- Images will be dynamically placed here by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Photo Modal with Improved Controls -->
    <div id="photoModal" class="photo-modal">
        <div class="photo-modal-close">
            <i class="fas fa-heart"></i>
        </div>
        <img id="modalImage" src="" alt="Enlarged photo">
        <!-- Navigation buttons will be added by JavaScript -->
    </div>

    <div id="stiamMessage" class="stiam-message">
        Stiam :)
    </div>

    <div id="gresitMessage" class="gresit-message">
        Gresit. Ai vrut sa spui YesYesYes.
    </div>

    <div id="media-player">
        <button id="play-pause-btn">⏸️</button>  
        <button id="mute-btn">🔊</button>
        <input id="volume-slider" type="range" min="0" max="100" value="30">
    </div>  

    <script>
        window.onload = function () {
            const audio = document.getElementById("background-audio");
            let volume = 0;
            audio.volume = 0;
            audio.play();

            // Gradually increase volume
            const interval = setInterval(() => {
                if (volume < 0.15) {
                    volume += 0.025;
                    audio.volume = volume;
                } else {
                    clearInterval(interval);
                }
            }, 1000);

            audio.addEventListener("ended", () => {
                audio.currentTime = 0;
                audio.play();
            });
        };

        document.addEventListener("DOMContentLoaded", function () {
            const audio = document.getElementById("background-audio");
            const muteButton = document.getElementById("mute-btn");
            const volumeSlider = document.getElementById("volume-slider");
            const playPauseButton = document.getElementById("play-pause-btn");

            muteButton.addEventListener("click", function () {
                audio.muted = !audio.muted;
                muteButton.textContent = audio.muted ? "🔇" : "🔊";
            });

            volumeSlider.addEventListener("input", function () {
                audio.volume = volumeSlider.value / 100;
            });

            // Play/Pause button functionality
            playPauseButton.addEventListener("click", function () {
                if (audio.paused) {
                    audio.play();
                    playPauseButton.textContent = "⏸️"; // Change to pause icon
                } else {
                    audio.pause();
                    playPauseButton.textContent = "▶️"; // Change to play icon
                }
            });
        });

        document.addEventListener('DOMContentLoaded', function() {
            const photoCollage = document.querySelector('.photo-collage');
            
            // Image sources - using absolute URLs or properly validated local paths
            const imageSources = [
                { src: "images/claudia1.jpg", alt: "claudia1" },
                { src: "images/claudia2.jpg", alt: "claudia2" },
                { src: "images/img (1).jpg", alt: "img1" },
                { src: "images/img (2).jpg", alt: "img2" },
                { src: "images/img (3).jpg", alt: "img3" },
                { src: "images/img (4).jpg", alt: "img4" },
                { src: "images/img (5).jpg", alt: "img5" },
                { src: "images/img (6).jpg", alt: "img6" },
                { src: "images/img (7).jpg", alt: "img7" },
                { src: "images/img (8).jpg", alt: "img8" },
                { src: "images/img (9).jpg", alt: "img9" },
                { src: "images/img (10).jpg", alt: "img10" },
                { src: "images/img (11).jpg", alt: "img11" },
                { src: "images/img (12).jpg", alt: "img12" },
                { src: "images/img (13).jpg", alt: "img13" },
                { src: "images/img (14).jpg", alt: "img14" },
                { src: "images/img (15).jpg", alt: "img15" },
                { src: "images/img (16).jpg", alt: "img16" },
                { src: "images/img (17).jpg", alt: "img17" },
                { src: "images/img (18).jpg", alt: "img18" },
                { src: "images/img (19).jpg", alt: "img19" },
                { src: "images/img (20).jpg", alt: "img20" },
                { src: "images/img (21).jpg", alt: "img21" },
                { src: "images/img (22).jpg", alt: "img22" },
                { src: "images/img (23).jpg", alt: "img23" },
                { src: "images/img (24).jpg", alt: "img24" },
                { src: "images/img (25).jpg", alt: "img25" },
                { src: "images/img (26).jpg", alt: "img26" },
                { src: "images/img (27).jpg", alt: "img27" }
            ];
            
            // Clear existing content
            photoCollage.innerHTML = '';
            
            // Set the dimensions for the collage container to match the screenshot layout
            // photoCollage.style.height = '1800px';
            photoCollage.style.display = 'grid';
            photoCollage.style.gridTemplateColumns = 'repeat(auto-fill, minmax(150px, 1fr))';
            photoCollage.style.gap = '10px';
            photoCollage.style.position = 'relative';
            
            // Create the collage layout similar to the screenshot
            imageSources.forEach((img, index) => {
                const photoItem = document.createElement('div');
                photoItem.className = 'photo-item';
                photoItem.dataset.img = `img-${index}`;
                
                // Use fixed positions to match the screenshot layout
                //photoItem.style.position = 'absolute';
                
                // Determine size variations (similar to screenshot)
                const size = index % 5 === 0 ? 'large' : 
                            index % 3 === 0 ? 'medium-large' : 
                            index % 2 === 0 ? 'medium' : 'standard';
                
                // Set sizes based on category
                let width, height;
                if (size === 'large') {
                    width = 180;
                    height = 180;
                } else if (size === 'medium-large') {
                    width = 160;
                    height = 140;
                } else if (size === 'medium') {
                    width = 150;
                    height = 120;
                } else {
                    width = 120;
                    height = 100;
                }
                
                // Calculate positions based on index to create a pattern similar to the screenshot
                // This uses a grid-like placement with some variation in sizes
                const column = index % 6;
                const row = Math.floor(index / 6);
                const baseX = column * 180;
                const baseY = row * 160;
                
                // Add slight randomness to positioning like in the screenshot
                const randomOffsetX = Math.floor(Math.random() * 20) - 10;
                const randomOffsetY = Math.floor(Math.random() * 20) - 10;
                
                photoItem.style.width = `${width}px`;
                photoItem.style.height = `${height}px`;
                //photoItem.style.left = `${baseX + randomOffsetX}px`;
                //photoItem.style.top = `${baseY + randomOffsetY}px`;
                
                // Less extreme rotation as in the screenshot
                const randomRotation = Math.floor(Math.random() * 10) - 5;
                photoItem.style.setProperty('--rotation', `${randomRotation}deg`);
                
                // Create image element
                const imgElement = document.createElement('img');
                imgElement.src = img.src;
                imgElement.alt = img.alt;
                imgElement.style.width = '100%';
                imgElement.style.height = '100%';
                imgElement.style.objectFit = 'cover'; // Use cover to fill the frames like in screenshot
                
                photoItem.appendChild(imgElement);
                photoCollage.appendChild(photoItem);
                
                // Add click event for photo modal
                photoItem.addEventListener('click', function() {
                    const modalImage = document.getElementById('modalImage');
                    modalImage.src = img.src;
                    document.getElementById('photoModal').classList.add('active');
                });
            });
            
            // Specialized positioning for the center image (like in the screenshot)
            // This places a larger image in the center
            if (imageSources.length > 14) {
                const centerPhotoIndex = 14;
                const centerPhoto = photoCollage.querySelector(`[data-img="img-${centerPhotoIndex}"]`);
                if (centerPhoto) {
                    centerPhoto.style.width = '220px';
                    centerPhoto.style.height = '220px';
                    centerPhoto.style.left = '50%';
                    centerPhoto.style.top = '50%';
                    centerPhoto.style.transform = 'translate(-50%, -50%)';
                    centerPhoto.style.zIndex = '10';
                }
            }
            
            // Photo modal close functionality with themed buttons
            const modalClose = document.querySelector('.photo-modal-close');
            const photoModal = document.getElementById('photoModal');
            
            // Update the close button to match the theme
            modalClose.innerHTML = '<i class="fas fa-heart"></i>'; // Using a heart icon instead of X
            modalClose.className = 'photo-modal-close bg-rose-500 hover:bg-rose-600 text-white rounded-full p-2 shadow-lg transition-all';
            
            modalClose.addEventListener('click', function() {
                photoModal.classList.remove('active');
            });
            
            photoModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    photoModal.classList.remove('active');
                }
            });
            
            // Add themed navigation buttons to the modal
            const navigationContainer = document.createElement('div');
            navigationContainer.className = 'photo-navigation flex justify-between w-full max-w-4xl px-4 absolute bottom-8';
            
            const prevButton = document.createElement('button');
            prevButton.className = 'photo-nav-btn bg-rose-500 hover:bg-rose-600 text-white rounded-full p-3 shadow-lg transition-all';
            prevButton.innerHTML = '<i class="fas fa-chevron-left"></i>';
            
            const nextButton = document.createElement('button');
            nextButton.className = 'photo-nav-btn bg-rose-500 hover:bg-rose-600 text-white rounded-full p-3 shadow-lg transition-all';
            nextButton.innerHTML = '<i class="fas fa-chevron-right"></i>';
            
            navigationContainer.appendChild(prevButton);
            navigationContainer.appendChild(nextButton);
            
            photoModal.appendChild(navigationContainer);
            
            // Track current image index
            let currentImageIndex = 0;
            
            // Navigation functionality
            prevButton.addEventListener('click', function(e) {
                e.stopPropagation();
                currentImageIndex = (currentImageIndex - 1 + imageSources.length) % imageSources.length;
                document.getElementById('modalImage').src = imageSources[currentImageIndex].src;
            });
            
            nextButton.addEventListener('click', function(e) {
                e.stopPropagation();
                currentImageIndex = (currentImageIndex + 1) % imageSources.length;
                document.getElementById('modalImage').src = imageSources[currentImageIndex].src;
            });
        });

        // Click screen to start interaction
        document.getElementById('startButton').addEventListener('click', function() {
            // Show love question
            document.getElementById('loveQuestion').classList.remove('hidden');
        });
        
                    
        document.getElementById('yesyesButton').addEventListener('click', function() {
            showStiamMessage();
        });

        document.getElementById('yesButton').addEventListener('click', function() {
            showGresitMessage();
        });

        // Answer buttons handlers
        document.getElementById('yesButton').addEventListener('click', handleLoveAnswer);
        document.getElementById('yesyesButton').addEventListener('click', handleLoveAnswer);
        
        function handleLoveAnswer() {
            // Hide question and intro section
            document.getElementById('loveQuestion').classList.add('hidden');
            document.getElementById('introSection').classList.add('hidden');

            
            // Show envelope section
            const envelopeSection = document.getElementById('envelopeSection');
            envelopeSection.classList.remove('hidden');
            
            // Show home button
            document.getElementById('homeButton').classList.remove('hidden');
            
            // Show envelope with animation
            const envelopeContainer = document.querySelector('.envelope-section');
            envelopeContainer.style.opacity = 1;
            envelopeContainer.style.transform = 'translateY(0)';
            
            // Allow scrolling
            document.body.classList.remove('scroll-disabled');
        }
        
        // Confetti function
        function launchConfetti() {
            const duration = 3000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }

            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();

                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }

                const particleCount = 50 * (timeLeft / duration);
                
                // Use random colors
                confetti(Object.assign({}, defaults, { 
                    particleCount, 
                    origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 },
                    colors: ['#ff6b6b', '#ffb8b8', '#f783ac', '#da77f2', '#9775fa']
                }));
                confetti(Object.assign({}, defaults, { 
                    particleCount, 
                    origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 },
                    colors: ['#ff6b6b', '#ffb8b8', '#f783ac', '#da77f2', '#9775fa']
                }));
            }, 250);
        }

        // Girlfriend buttons handlers
        document.getElementById('yesButton2').addEventListener('click', handleGirlfriendAnswer);
        document.getElementById('yesyesButton2').addEventListener('click', handleGirlfriendAnswer);


        document.getElementById('viewGirlfriendButton').addEventListener('click', function() {
            // Show girlfriend question
            document.getElementById('girlfriendQuestion').classList.remove('hidden');
        });

        // Replace the handleGirlfriendAnswer function with this updated version
        function handleGirlfriendAnswer() {
            // Hide the girlfriend question
            document.getElementById('girlfriendQuestion').classList.add('hidden');
            document.getElementById('viewGirlfriendButton').classList.add('hidden');

            // Launch confetti
            launchConfetti();
            
            // Directly transition to the photo gallery instead of showing another button
            const letterSection = document.querySelector('.letter-section');
            const photoGallerySection = document.getElementById('photoGallerySection');
            
            // Apply transition effect
            letterSection.style.opacity = '0';
            letterSection.style.transform = 'scale(0.9)';
            
            setTimeout(() => {
                // Hide letter section
                letterSection.classList.add('hidden');
                
                // Show photo gallery section
                window.scrollTo({
                    top: 0,
                    left: 0,
                    behavior: 'smooth'
                });
                photoGallerySection.classList.remove('hidden');
                photoGallerySection.style.opacity = '0';
                photoGallerySection.style.transform = 'scale(0.9)';
                
                setTimeout(() => {
                    // Fade in photo gallery
                    photoGallerySection.style.opacity = '1';
                    photoGallerySection.style.transform = 'scale(1)';
                    photoGallerySection.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                }, 100);
            }, 1000); // Slightly longer delay to enjoy the confetti
        }
        
        // Envelope click interaction
        document.querySelector('.envelope-container').addEventListener('click', function() {
            const letterSection = document.querySelector('.letter-section');
            const letterContainer = document.querySelector('.letter-container');

            // Apply transition to envelope
            document.getElementById('envelopeSection').style.opacity = '0';
            document.getElementById('envelopeSection').style.transform = 'scale(0.9)';
            
            setTimeout(() => {
                // Hide envelope section
                document.getElementById('envelopeSection').classList.add('hidden');
                
                // Reveal letter section
                letterSection.classList.remove('hidden');
                
                // Fade in letter with animation
                setTimeout(() => {
                    letterContainer.style.opacity = '1';
                    letterContainer.style.transform = 'translateY(0)';
                }, 100);
            }, 500);
        });

        // Home button functionality
        document.getElementById('homeButton').addEventListener('click', function() {
            window.location.reload();
        });

        // Keyboard accessibility
        document.querySelector('.envelope-container').addEventListener('keydown', function(e) {
            if (e.key === 'Enter' || e.key === ' ') {
                this.click();
            }
        });
        
        function showStiamMessage() {
            const stiamMessage = document.getElementById('stiamMessage');
            stiamMessage.style.opacity = '1';
            
            setTimeout(() => {
                stiamMessage.style.opacity = '0';
            }, 1500);
        }

        function showGresitMessage() {
            const gresitMessage = document.getElementById('gresitMessage');
            gresitMessage.style.opacity = '1';
            
            setTimeout(() => {
                gresitMessage.style.opacity = '0';
            }, 1500);
        }

        function showLoadingSpinner() {
            document.querySelector('.loading-spinner').style.display = 'block';
        }

        function hideLoadingSpinner() {
            document.querySelector('.loading-spinner').style.display = 'none';
        }
        
        // Implement touch events
        let hammer = new Hammer(document.querySelector('.main-container'));
            hammer.on('swipeleft', function() {
            nextPage();
        });
            hammer.on('swiperight', function() {
            prevPage();
        });

    </script>
    <audio id="background-audio" loop autoplay>
        <source src="music/fly-me-to-the-moon-piano.mp3" type="audio/mp3">
        Your browser does not support the audio element.
    </audio>  
</body>
</html>
